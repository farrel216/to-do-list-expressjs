<div class="container py-5 d-flex flex-column">
  <!-- Title -->
  <div class="d-inline">
    <h1 id="title" class="fs-1 fw-bold">To Do List</h1>
    <a href="/auth/logout" class="btn btn-danger">Logout</a>
  </div>
  <!-- Form Utama -->
  <form id="todoForm" class="input-group mb-3" method="POST" action="/todo/add">
    <input type="hidden" name="completed" value="0">
    <input
      name="activity"
      type="text"
      class="form-control"
      placeholder="What do you want to do today?"
      required
    />
    <button
      class="btn btn-outline-success fw-semibold"
      type="submit"
      id="button-addon2"
    >
      Add Todo
    </button>
  </form>

  <!-- Todo List -->
  <section class="todos mt-5">
    <div class="title d-flex justify-content-between mb-3">
      <h2 class="fs-3 fw-bold">To Do List</h2>

      <!-- Tombol Remove All -->
      <form action="/todo?_method=DELETE" method="POST" class="d-inline">
        <button
          type="submit"
          class="btn btn-danger fw-semibold"
          onclick="return confirm('Are you sure?')"
        >
          Remove All Todos
        </button>
      </form>
    </div>
    <ul class="list-group" id="todolist">
      <% todos.forEach(todo => { %>
       <li class="list-group-item d-flex justify-content-between align-items-center mb-2 <%= todo.completed ? 'bg-success' : 'bg-light' %>  row ">
        <div class="ms-3 todo d-inline-block col-3">
          <label for="check" class="form-check-label fw-semibold text-dark user-select-none <%= todo.completed ? 'text-decoration-line-through' : '' %>">
            <%= todo.activity %>
          </label>
        </div>
        <label class="badge bg-primary rounded-pill text-light fw-semibold col-3 <%= todo.completed ? '' : 'bg-danger' %>">
          <%= todo.completed ? 'Completed' : 'Not Completed' %></label>
          <div class="col-3 d-flex justify-content-end">
        <form method="POST" action="/todo/todos?_method=PUT" class="d-inline me-3">
          <input type="hidden" name="_id" value="<%= todo._id %>">
          <input type="hidden" name="completed" value="<%= todo.completed ? 0 : 1 %>">
          <button class="btn btn-primary fw-semibold" type="submit"><%= todo.completed ? 'Uncomplete' : 'Complete' %></button>
        </form>
        <form method="POST" action="/todo/todos?_method=DELETE" class="d-inline ">
          <input type="hidden" name="_id" value="<%= todo._id %>">
          <button class="btn btn-outline-danger fw-semibold" type="submit">Hapus</button>
        </form>
        </div>
       </li>
      <% }) %>
    </ul>
  </section>
</div>
<!-- ajax post -->